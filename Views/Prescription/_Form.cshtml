@model FormViewModel

<form asp-action="Edit" asp-controller="Prescription" method="post">
    <input asp-for="PrescriptionId" type="hidden"/>

    <div class="flex flex-col">
        <label asp-for="StartDate" class="block mb-2 text-md font-medium text-text"></label>
        <input asp-for="StartDate" class="input input-bordered w-full"/>
        <span asp-validation-for="StartDate" class="text-error"></span>
    </div>
    
    <div class="flex flex-col">
        <label asp-for="EndDate" class="block mb-2 text-md font-medium text-text"></label>
        <input asp-for="EndDate" class="input input-bordered w-full"/>
        <span asp-validation-for="EndDate" class="text-error"></span>
    </div>
    
    <div class="flex flex-col">
        <label asp-for="Dosage" class="block mb-2 text-md font-medium text-text"></label>
        <input asp-for="Dosage" class="input input-bordered w-full"/>
        <span asp-validation-for="Dosage" class="text-error"></span>
    </div>
    
    <div class="flex flex-col">
        <label asp-for="AdditionalInformation" class="block mb-2 text-md font-medium text-text"></label>
        <input asp-for="AdditionalInformation" class="input input-bordered w-full"/>
        <span asp-validation-for="AdditionalInformation" class="text-error"></span>
    </div>
    
    <h3 class="mt-2 font-bold">Médicaments</h3>
    <div class="flex flex-col gap-2">
        @foreach (var medicament in Model.Medicaments)
        {
        <div class="flex flex-row gap-4">
            <input class="checkbox" type="checkbox" name="SelectedMedicalHistoryIds" value="@medicament.MedicamentId"
                   @(Model.SelectedMedicamentIds != null && Model.SelectedMedicamentIds.Contains(medicament.MedicamentId) ? "checked" :
                   "") />
            <label>@medicament.Name</label>
        </div>
        }

        @if (Model.Medicaments.Count == 0)
        {
        <p>Aucun médicament compatible avec le patient de l'ordonnance</p>
        }
    </div>
</form>