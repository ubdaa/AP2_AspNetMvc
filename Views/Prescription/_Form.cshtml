@model PrescriptionViewModel

<input asp-for="PrescriptionId" type="hidden"/>

<div class="form-group mb-3">
    <label asp-for="StartDate"></label>
    <input asp-for="StartDate" class="form-control"/>
    <span asp-validation-for="StartDate" class="text-danger"></span>
</div>

<div class="form-group mb-3">
    <label asp-for="EndDate"></label>
    <input asp-for="EndDate" class="form-control"/>
    <span asp-validation-for="EndDate" class="text-danger"></span>
</div>

<div class="form-group mb-3">
    <label asp-for="Dosage"></label>
    <input asp-for="Dosage" class="form-control"/>
    <span asp-validation-for="Dosage" class="text-danger"></span>
</div>

<div class="form-group mb-3">
    <label asp-for="AdditionalInformation"></label>
    <input asp-for="AdditionalInformation" class="form-control"/>
    <span asp-validation-for="AdditionalInformation" class="text-danger"></span>
</div>

<h3 class="mt-2 font-bold">Médicaments</h3>
<div class="form-group mb-3">
    @foreach (var medicament in Model.Medicaments)
    {
    <div class="flex flex-row gap-4">
        <input class="form-check-input" type="checkbox" name="SelectedMedicalHistoryIds" value="@medicament.MedicamentId"
               @(Model.SelectedMedicamentIds != null && Model.SelectedMedicamentIds.Contains(medicament.MedicamentId) ? "checked" :
               "") />
        <label>@medicament.Name</label>
    </div>
    }

    @if (Model.Medicaments.Count == 0)
    {
    <p>Aucun médicament compatible avec le patient de l'ordonnance</p>
    }
</div>
