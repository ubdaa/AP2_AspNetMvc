@model PatientViewModel

<input asp-for="PatientId" type="hidden" value="@Model.PatientId"/>

<div class="form-group mb-3">
    <label asp-for="FirstName"></label>
    <input asp-for="FirstName" class="form-control"/>
    <span asp-validation-for="FirstName" class="text-error"></span>
</div>

<div class="form-group mb-3">
    <label asp-for="LastName"></label>
    <input asp-for="LastName" class="form-control"/>
    <span asp-validation-for="LastName" class="text-error"></span>
</div>

<div class="form-group mb-3">
    <label asp-for="BirthDate"></label>
    <input asp-for="BirthDate" class="form-control" value="@Model.BirthDate.ToString("yyyy")-@Model.BirthDate.ToString("MM")-@Model.BirthDate.ToString("dd")"/>
    <span asp-validation-for="BirthDate" class="text-error"></span>
</div>

<div class="form-group mb-3">
    <label asp-for="Gender"></label>
    <select asp-for="Gender" asp-items="@Html.GetEnumSelectList(typeof(Genders))" class="form-control">
        <option value="">Select Gender</option>
    </select>
    <span asp-validation-for="Gender" class="text-red-500"></span>
</div>

<div class="form-group mb-3">
    <label asp-for="Height"></label>
    <input asp-for="Height" class="form-control"/>
    <span asp-validation-for="Height" class="text-error"></span>
</div>

<div class="form-group mb-3">
    <label asp-for="Weight"></label>
    <input asp-for="Weight" class="form-control"/>
    <span asp-validation-for="Weight" class="text-error"></span>
</div>

<div class="form-group mb-3">
    <label asp-for="Address"></label>
    <input asp-for="Address" class="form-control"/>
    <span asp-validation-for="Address" class="text-error"></span>
</div>

<div class="form-group mb-3">
    <label asp-for="SocialSecurityNumber"></label>
    <input asp-for="SocialSecurityNumber" class="form-control"/>
    <span asp-validation-for="SocialSecurityNumber" class="text-error"></span>
</div>

<h3 class="mt-2 font-bold">Antécédents</h3>
<div class="form-group mb-3">
    @foreach (var medicalHistory in Model.MedicalHistories)
    {
        <div>
            <input class="form-check-input" type="checkbox" name="SelectedMedicalHistoryIds" value="@medicalHistory.MedicalHistoryId"
                   @(Model.SelectedMedicalHistoryIds != null && Model.SelectedMedicalHistoryIds.Contains(medicalHistory.MedicalHistoryId) ? "checked" :
                   "") />
            <label>@medicalHistory.Name</label>
        </div>
    }

    @if (Model.MedicalHistories.Count == 0)
    {
    <p>Aucun antécédent médical dans la base</p>
    }
</div>

<h3 class="mt-2 font-bold">Allergies</h3>
<div class="form-group mb-3">
    @foreach (var allergy in Model.Allergies)
    {
        <div>
            <input class="form-check-input" type="checkbox" name="SelectedAllergyIds" value="@allergy.AllergyId"
                   @(Model.SelectedAllergyIds != null && Model.SelectedAllergyIds.Contains(allergy.AllergyId) ? "checked" :
                   "") />
            <label>@allergy.Name</label>
        </div>
    }

    @if (Model.Allergies.Count == 0)
    {
    <p>Aucune allergie dans la base</p>
    }
</div>